# Articles Clean Architecture API ğŸ“š

Una Web API construida con **ASP.NET Core 8.0** siguiendo los principios de **Clean Architecture** para la gestiÃ³n de artÃ­culos con operaciones CRUD completas y validaciones robustas.

## âœ¨ CaracterÃ­sticas

- âœ… **CRUD Completo** de ArtÃ­culos y CategorÃ­as (Crear, Leer, Actualizar, Eliminar)
- âœ… **Clean Architecture** con separaciÃ³n clara de responsabilidades
- âœ… **Validaciones robustas** con FluentValidation
- âœ… **Reglas de negocio** encapsuladas en el Domain
- âœ… **Entity Framework Core** con migraciones
- âœ… **Manejo profesional de errores** con cÃ³digos HTTP apropiados
- âœ… **DocumentaciÃ³n automÃ¡tica** con Swagger/OpenAPI
- âœ… **InyecciÃ³n de dependencias** configurada correctamente
- âœ… **Repository Pattern** para acceso a datos
- âœ… **DTOs** para transferencia de datos

### Reglas de Negocio Implementadas

- **Nombre Ãºnico**: No se pueden repetir nombres de artÃ­culos
- **Precio positivo**: El precio debe ser mayor a 0
- **Validaciones de longitud**: Nombre (3-100 chars), DescripciÃ³n (10-500 chars)
- **Validaciones personalizadas**: Caracteres permitidos, detecciÃ³n de contenido inapropiado
- **Validaciones condicionales**: Precios consistentes con el tipo de producto

## ğŸ—ï¸ Arquitectura

Este proyecto implementa **Clean Architecture** de Uncle Bob con 4 capas principales:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              WebApi (API Layer)         â”‚
â”‚  Controllers, Program.cs, Middleware   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Articles.Infrastructure             â”‚
â”‚   Repositories, DbContext, Data Access â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Articles.Application               â”‚
â”‚  Services, DTOs, Validators, Interfaces â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Articles.Domain                  â”‚
â”‚      Entities, Business Rules          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Principios Aplicados

- **Dependency Inversion**: Las dependencias apuntan hacia adentro
- **Single Responsibility**: Cada capa tiene una responsabilidad especÃ­fica
- **Open/Closed**: Extensible sin modificar cÃ³digo existente
- **Interface Segregation**: Interfaces especÃ­ficas y cohesivas

## ğŸ› ï¸ TecnologÃ­as y Herramientas

### Framework y Runtime

- **.NET 8.0** - Framework principal
- **ASP.NET Core 8.0** - Web API framework

### Base de Datos y ORM

- **Entity Framework Core 8.0.19** - ORM principal
- **Microsoft.EntityFrameworkCore.SqlServer 8.0.19** - Provider para SQL Server
- **Microsoft.EntityFrameworkCore.Design 8.0.19** - Herramientas de diseÃ±o
- **Microsoft.EntityFrameworkCore.Tools 8.0.19** - Herramientas CLI

### Validaciones

- **FluentValidation 12.0.0** - Validaciones robustas y expresivas
- **FluentValidation.AspNetCore 11.3.1** - IntegraciÃ³n con ASP.NET Core
- **FluentValidation.DependencyInjectionExtensions 12.0.0** - InyecciÃ³n de dependencias

### DocumentaciÃ³n y Testing

- **Swashbuckle.AspNetCore 6.6.2** - Swagger/OpenAPI documentation

### Herramientas de Desarrollo

- **Visual Studio / VS Code** - IDEs recomendados
- **REST Client** - Para pruebas de API (archivo .http)
- **SQL Server Management Studio** - GestiÃ³n de base de datos
- **dotnet CLI** - Herramientas de lÃ­nea de comandos

## ğŸš€ InstalaciÃ³n y ConfiguraciÃ³n

### Prerrequisitos

- **.NET 8.0 SDK** instalado
- **SQL Server** (LocalDB es suficiente para desarrollo)
- **Git** para clonar el repositorio

### Pasos de InstalaciÃ³n

1. **Clonar el repositorio**

```bash
git clone https://github.com/JeanDev-10/API-ARTICLES-CLEAN-ARCHITECTURE
cd ArticlesCleanArchitecture
```

2. **Restaurar dependencias**

```bash
dotnet restore
```

3. **Configurar la base de datos**

```bash
# Actualizar connection string en WebApi/appsettings.json
{
  "ConnectionStrings": {
    "DefaultConnection": "Server=(localdb)\\mssqllocaldb;Database=ArticlesDb;Trusted_Connection=true;MultipleActiveResultSets=true"
  }
}
```

4. **Crear y aplicar migraciones**

```bash


# Aplicar migraciÃ³n a la base de datos
dotnet ef database update --project Articles.Infrastructure --startup-project WebApi
```

5. **Ejecutar la aplicaciÃ³n**

```bash
dotnet run --project WebApi
```

6. **Acceder a la documentaciÃ³n**

- Swagger UI: `https://localhost:5227/swagger`
- API Base URL: `https://localhost:5227/api`

## ğŸ”§ Uso de la API

### Endpoints Disponibles

| MÃ©todo | Endpoint             | DescripciÃ³n                   |
| ------ | -------------------- | ----------------------------- |
| GET    | `/api/articles`      | Obtener todos los artÃ­culos   |
| GET    | `/api/articles/{id}` | Obtener artÃ­culo por ID       |
| POST   | `/api/articles`      | Crear nuevo artÃ­culo          |
| PUT    | `/api/articles/{id}` | Actualizar artÃ­culo existente |
| DELETE | `/api/articles/{id}` | Eliminar artÃ­culo             |

### Ejemplo de Uso

#### Crear un ArtÃ­culo

```http
POST https://localhost:5001/api/articles
Content-Type: application/json

{
    "name": "Laptop Gaming",
    "price": 1500.99,
    "description": "Laptop para gaming de alta gama con RTX 4070"
}
```

#### Respuesta Exitosa (201 Created)

```json
{
  "id": 1,
  "name": "Laptop Gaming",
  "price": 1500.99,
  "description": "Laptop para gaming de alta gama con RTX 4070",
  "createdAt": "2024-01-15T10:30:00Z",
  "updatedAt": "2024-01-15T10:30:00Z"
}
```

#### Actualizar un ArtÃ­culo

```http
PUT https://localhost:5001/api/articles/1
Content-Type: application/json

{
    "name": "Laptop Gaming Pro",
    "price": 1699.99,
    "description": "Laptop gaming profesional con RTX 4070 y 32GB RAM"
}
```

## âœ… Validaciones

### Validaciones Implementadas

#### Nombre del ArtÃ­culo

- âœ… **Requerido**: No puede estar vacÃ­o
- âœ… **Longitud**: Entre 3 y 100 caracteres
- âœ… **Ãšnico**: No se pueden repetir nombres
- âœ… **Caracteres vÃ¡lidos**: Solo letras, nÃºmeros, espacios y algunos sÃ­mbolos
- âœ… **Contenido apropiado**: Sin palabras inapropiadas

#### Precio

- âœ… **Positivo**: Debe ser mayor a 0
- âœ… **MÃ¡ximo**: No puede exceder $999,999.99
- âœ… **Decimales**: MÃ¡ximo 2 decimales
- âœ… **Consistencia**: Debe ser consistente con el tipo de producto

#### DescripciÃ³n

- âœ… **Requerida**: No puede estar vacÃ­a
- âœ… **Longitud**: Entre 10 y 500 caracteres
- âœ… **EspecÃ­fica**: No debe ser genÃ©rica o muy bÃ¡sica

### CÃ³digos de Respuesta HTTP

- **200 OK** - OperaciÃ³n exitosa
- **201 Created** - Recurso creado exitosamente
- **204 No Content** - EliminaciÃ³n exitosa
- **400 Bad Request** - Errores de validaciÃ³n
- **404 Not Found** - Recurso no encontrado
- **409 Conflict** - Conflicto (ej: nombre duplicado)
- **500 Internal Server Error** - Error del servidor

### Ejemplo de Error de ValidaciÃ³n

```json
{
  "message": "Errores de validaciÃ³n",
  "errors": [
    "El nombre del artÃ­culo es requerido",
    "El precio debe ser mayor a 0",
    "La descripciÃ³n debe tener entre 10 y 500 caracteres"
  ]
}
```

## ğŸ§ª Testing

### Archivo de Pruebas HTTP

El proyecto incluye un archivo `WebApi.http` con casos de prueba que cubren:

- âœ… **CRUD bÃ¡sico** - Todas las operaciones principales
- âœ… **Validaciones de negocio** - Todos los casos de error
- âœ… **Casos lÃ­mite** - Longitudes mÃ¡ximas, caracteres especiales
- âœ… **Manejo de errores** - JSON malformado, headers incorrectos

#### Ejecutar Pruebas

1. **Con Visual Studio Code**:

   - Instalar extensiÃ³n "REST Client"
   - Abrir `articles-api-tests.http`
   - Hacer clic en "Send Request" sobre cada prueba

2. **Con otras herramientas**:
   - **Postman**: Importar las requests
   - **Insomnia**: Usar las requests HTTP
   - **curl**: Convertir a comandos curl

## ğŸ”§ Uso de la API

### Endpoints Disponibles

| MÃ©todo | Endpoint             | DescripciÃ³n                   |
| ------ | -------------------- | ----------------------------- |
| GET    | `/api/articles`      | Obtener todos los artÃ­culos   |
| GET    | `/api/articles/{id}` | Obtener artÃ­culo por ID       |
| POST   | `/api/articles`      | Crear nuevo artÃ­culo          |
| PUT    | `/api/articles/{id}` | Actualizar artÃ­culo existente |
| DELETE | `/api/articles/{id}` | Eliminar artÃ­culo             |

#### CategorÃ­as

| MÃ©todo | Endpoint               | DescripciÃ³n                    |
| ------ | ---------------------- | ------------------------------ |
| GET    | `/api/categories`      | Obtener todas las categorÃ­as   |
| GET    | `/api/categories/{id}` | Obtener categorÃ­a por ID       |
| POST   | `/api/categories`      | Crear nueva categorÃ­a          |
| PUT    | `/api/categories/{id}` | Actualizar categorÃ­a existente |
| DELETE | `/api/categories/{id}` | Eliminar categorÃ­a             |

---

## Autor

- [Jean Pierre RodrÃ­guez Zambrano](https://github.com/JeanDev-10)

---
