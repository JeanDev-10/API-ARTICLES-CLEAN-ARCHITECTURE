###
# Variables para el entorno
@host = http://localhost:5227
@contentType = application/json

###
# 1. GET - Obtener todos los artÃ­culos (lista vacÃ­a inicialmente)
GET {{host}}/api/articles
Accept: {{contentType}}

###
# 2. POST - Crear artÃ­culo vÃ¡lido #1
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "Laptop Gaming",
    "price": 1500.99,
    "description": "Laptop para gaming de alta gama con RTX 4070"
}

###
# 3. POST - Crear artÃ­culo vÃ¡lido #2
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "Mouse InalÃ¡mbrico",
    "price": 45.50,
    "description": "Mouse inalÃ¡mbrico ergonÃ³mico con sensor Ã³ptico"
}

###
# 4. GET - Obtener todos los artÃ­culos (ahora con datos)
GET {{host}}/api/articles
Accept: {{contentType}}

###
# 5. GET - Obtener artÃ­culo por ID vÃ¡lido (usar ID=1)
GET {{host}}/api/articles/1
Accept: {{contentType}}

###
# 6. GET - Obtener artÃ­culo por ID invÃ¡lido (no existe)
GET {{host}}/api/articles/999
Accept: {{contentType}}

###
# ========== VALIDACIONES DE CREACIÃ“N - CASOS DE ERROR ==========

###
# 7. POST - Error: Nombre vacÃ­o
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "",
    "price": 100.00,
    "description": "DescripciÃ³n vÃ¡lida"
}

###
# 8. POST - Error: Nombre null
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": null,
    "price": 100.00,
    "description": "DescripciÃ³n vÃ¡lida"
}

###
# 9. POST - Error: Nombre demasiado largo (>100 caracteres)
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "Este nombre es extremadamente largo y excede el lÃ­mite de 100 caracteres permitidos para validar que la regla de negocio funciona correctamente",
    "price": 100.00,
    "description": "DescripciÃ³n vÃ¡lida"
}

###
# 10. POST - Error: Precio cero
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "ArtÃ­culo Precio Cero",
    "price": 0,
    "description": "DescripciÃ³n vÃ¡lida"
}

###
# 11. POST - Error: Precio negativo
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "ArtÃ­culo Precio Negativo",
    "price": -50.00,
    "description": "DescripciÃ³n vÃ¡lida"
}

###
# 12. POST - Error: DescripciÃ³n vacÃ­a
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "ArtÃ­culo Sin DescripciÃ³n",
    "price": 100.00,
    "description": ""
}

###
# 13. POST - Error: DescripciÃ³n null
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "ArtÃ­culo DescripciÃ³n Null",
    "price": 100.00,
    "description": null
}

###
# 14. POST - Error: DescripciÃ³n demasiado larga (>500 caracteres)
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "ArtÃ­culo DescripciÃ³n Larga",
    "price": 100.00,
    "description": "Esta descripciÃ³n es extremadamente larga y estÃ¡ diseÃ±ada para exceder el lÃ­mite de 500 caracteres establecido en las reglas de negocio. Vamos a agregar mÃ¡s texto para asegurarnos de que realmente supere los 500 caracteres permitidos. Esta validaciÃ³n debe fallar y devolver un error Bad Request indicando que la descripciÃ³n no puede exceder los 500 caracteres. Continuamos agregando mÃ¡s texto para garantizar que se alcance el lÃ­mite: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
}

###
# 15. POST - Error: Nombre duplicado (intentar crear otro "Laptop Gaming")
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "Laptop Gaming",
    "price": 2000.00,
    "description": "Otra laptop gaming diferente pero con el mismo nombre"
}

###
# 16. POST - Error: JSON malformado
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "ArtÃ­culo JSON Malo",
    "price": 100.00,
    "description": DescripciÃ³n vÃ¡lida
    // Este comentario hace que el JSON sea invÃ¡lido
}
###
# 17. POST - Error: Campos faltantes
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "Solo Nombre"
}

###
# ========== VALIDACIONES DE ACTUALIZACIÃ“N - CASOS DE ERROR ==========

###
# 18. PUT - ActualizaciÃ³n vÃ¡lida (actualizar artÃ­culo ID=1)
PUT {{host}}/api/articles/1
Content-Type: {{contentType}}

{
    "name": "Laptop Gaming Actualizada",
    "price": 1699.99,
    "description": "Laptop gaming actualizada con mejor precio y caracterÃ­sticas mejoradas"
}

###
# 19. PUT - Error: Actualizar artÃ­culo inexistente
PUT {{host}}/api/articles/999
Content-Type: {{contentType}}

{
    "name": "ArtÃ­culo Inexistente",
    "price": 100.00,
    "description": "Intentando actualizar artÃ­culo que no existe"
}

###
# 20. PUT - Error: Actualizar con nombre duplicado de otro artÃ­culo
PUT {{host}}/api/articles/1
Content-Type: {{contentType}}

{
    "name": "Mouse InalÃ¡mbrico",
    "price": 1500.00,
    "description": "Intentando usar el nombre de otro artÃ­culo existente"
}

###
# 21. PUT - Error: Actualizar con precio negativo
PUT {{host}}/api/articles/1
Content-Type: {{contentType}}

{
    "name": "Laptop Con Precio Negativo",
    "price": -100.00,
    "description": "Intentando actualizar con precio invÃ¡lido"
}

###
# 22. PUT - Error: Actualizar con nombre vacÃ­o
PUT {{host}}/api/articles/1
Content-Type: {{contentType}}

{
    "name": "",
    "price": 1500.00,
    "description": "Intentando actualizar con nombre vacÃ­o"
}

###
# 23. PUT - ActualizaciÃ³n vÃ¡lida manteniendo el mismo nombre
PUT {{host}}/api/articles/1
Content-Type: {{contentType}}

{
    "name": "Laptop Gaming Actualizada",
    "price": 1399.99,
    "description": "Solo cambiando precio y descripciÃ³n, manteniendo el mismo nombre"
}

###
# ========== PRUEBAS DE ELIMINACIÃ“N ==========

###
# 24. POST - Crear artÃ­culo para eliminar
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "ArtÃ­culo Para Eliminar",
    "price": 50.00,
    "description": "Este artÃ­culo serÃ¡ eliminado en la siguiente prueba"
}

###
# 25. DELETE - Eliminar artÃ­culo vÃ¡lido (usar el ID del artÃ­culo reciÃ©n creado)
DELETE {{host}}/api/articles/3

###
# 26. DELETE - Error: Eliminar artÃ­culo inexistente
DELETE {{host}}/api/articles/999

###
# 27. GET - Verificar que el artÃ­culo eliminado ya no existe
GET {{host}}/api/articles/3
Accept: {{contentType}}

###
# ========== CASOS EDGE Y LÃMITES ==========

###
# 28. POST - Nombre en el lÃ­mite exacto (100 caracteres)
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890",
    "price": 100.00,
    "description": "Nombre con exactamente 100 caracteres"
}

###
# 29. POST - DescripciÃ³n en el lÃ­mite exacto (500 caracteres)
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "DescripciÃ³n LÃ­mite",
    "price": 100.00,
    "description": "12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678"
}

###
# 30. POST - Precio con muchos decimales
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "Precio Decimales",
    "price": 99.999999,
    "description": "Probando precio con muchos decimales"
}

###
# 31. POST - Caracteres especiales en nombre y descripciÃ³n
POST {{host}}/api/articles
Content-Type: {{contentType}}

{
    "name": "ArtÃ­culo-Especial_123 & mÃ¡s!",
    "price": 150.75,
    "description": "DescripciÃ³n con caracteres especiales: Ã¡Ã©Ã­Ã³Ãº Ã±Ã‘ @#$%^&*()_+ ğŸš€"
}

###
# ========== VERIFICACIONES FINALES ==========

###
# 32. GET - Obtener todos los artÃ­culos finales
GET {{host}}/api/articles
Accept: {{contentType}}

###
# 33. GET - Verificar artÃ­culo especÃ­fico actualizado
GET {{host}}/api/articles/1
Accept: {{contentType}}

###
# ========== PRUEBAS DE HEADERS Y CONTENT TYPES ==========

###
# 34. POST - Sin Content-Type header (deberÃ­a fallar)
POST {{host}}/api/articles

{
    "name": "Sin Content Type",
    "price": 100.00,
    "description": "Enviado sin Content-Type header"
}

###
# 35. POST - Content-Type incorrecto
POST {{host}}/api/articles
Content-Type: text/plain

{
    "name": "Content Type Incorrecto",
    "price": 100.00,
    "description": "Enviado con Content-Type incorrecto"
}

###
# 36. GET - Con Accept header especÃ­fico
GET {{host}}/api/articles
Accept: application/json
User-Agent: HTTP-Test-Client


###
# ========== RESUMEN DE CASOS DE PRUEBA ==========

###
# CASOS CUBIERTOS:
# âœ… CRUD bÃ¡sico (Create, Read, Update, Delete)
# âœ… ValidaciÃ³n de nombre requerido y Ãºnico
# âœ… ValidaciÃ³n de precio positivo (>0)
# âœ… ValidaciÃ³n de descripciÃ³n requerida
# âœ… LÃ­mites de caracteres (nombre 100, descripciÃ³n 500)
# âœ… ArtÃ­culos inexistentes (404)
# âœ… Nombres duplicados (409 Conflict)
# âœ… JSON malformado
# âœ… Campos faltantes
# âœ… Headers incorrectos
# âœ… Casos lÃ­mite y edge cases
# âœ… Caracteres especiales
# âœ… Verificaciones finales

###
# CÃ“DIGOS HTTP ESPERADOS:
# 200 OK - Operaciones exitosas
# 201 Created - CreaciÃ³n exitosa
# 204 No Content - EliminaciÃ³n exitosa
# 400 Bad Request - Errores de validaciÃ³n
# 404 Not Found - Recursos no encontrados
# 409 Conflict - Nombres duplicados
# 500 Internal Server Error - Errores del servidor